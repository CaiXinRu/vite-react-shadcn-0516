import {
  Situation,
  StationsContextType,
} from "@/ts-common/types/mainStationTypes";
import React, { createContext, useContext, useEffect, useState } from "react";

const StationsContext = createContext<StationsContextType | undefined>(
  undefined
);

const getStations = async (): Promise<Situation[]> => {
  return [
    {
      id: "500607001",
      station: "500607001 - 捷運水安宮站",
      manual: 4,
      auto: null,
      classOne: 12,
      classTwo: null,
      fault: 3,
      case: 5,
      geoCode: [24.152727, 120.646965],
    },
    {
      id: "500607002",
      station: "500607002 - 光明國中",
      manual: 6,
      auto: 8,
      classOne: null,
      classTwo: null,
      fault: null,
      case: 9,
      geoCode: [24.137711, 120.684791],
    },
    {
      id: "500607003",
      station: "500607003 - 公益黎明路口(西南側)",
      manual: null,
      auto: 3,
      classOne: 9,
      classTwo: null,
      fault: null,
      case: 2,
      geoCode: [24.151735, 120.643304],
    },
    {
      id: "500607004",
      station: "500607004 - 台中火車站",
      manual: 2,
      auto: 5,
      classOne: null,
      classTwo: 4,
      fault: 1,
      case: 3,
      geoCode: [24.136829, 120.685589],
    },
    {
      id: "500607005",
      station: "500607005 - 新光三越",
      manual: null,
      auto: 4,
      classOne: 7,
      classTwo: 3,
      fault: 2,
      case: 4,
      geoCode: [24.163366, 120.639815],
    },
    {
      id: "500607006",
      station: "500607006 - 台中醫院",
      manual: 5,
      auto: 6,
      classOne: 8,
      classTwo: null,
      fault: null,
      case: 1,
      geoCode: [24.140424, 120.683872],
    },
    {
      id: "500607007",
      station: "500607007 - 勤美誠品",
      manual: 1,
      auto: 7,
      classOne: null,
      classTwo: 5,
      fault: 3,
      case: null,
      geoCode: [24.149726, 120.662161],
    },
    {
      id: "500607008",
      station: "500607008 - 科博館",
      manual: 3,
      auto: null,
      classOne: 6,
      classTwo: 2,
      fault: 4,
      case: 6,
      geoCode: [24.157936, 120.664707],
    },
    {
      id: "500607009",
      station: "500607009 - 逢甲大學",
      manual: null,
      auto: 2,
      classOne: 9,
      classTwo: 6,
      fault: 1,
      case: 3,
      geoCode: [24.179051, 120.649162],
    },
    {
      id: "500607010",
      station: "500607010 - 秋紅谷",
      manual: 6,
      auto: 5,
      classOne: null,
      classTwo: 3,
      fault: 2,
      case: null,
      geoCode: [24.168195, 120.639045],
    },
    {
      id: "500607011",
      station: "500607011 - 台中公園",
      manual: 4,
      auto: null,
      classOne: 8,
      classTwo: 1,
      fault: 5,
      case: 7,
      geoCode: [24.142557, 120.682398],
    },
    {
      id: "500607012",
      station: "500607012 - 東海大學",
      manual: null,
      auto: 3,
      classOne: 11,
      classTwo: null,
      fault: 2,
      case: 4,
      geoCode: [24.179176, 120.600521],
    },
    {
      id: "500607013",
      station: "500607013 - 朝馬轉運站",
      manual: 2,
      auto: 4,
      classOne: 5,
      classTwo: 3,
      fault: 1,
      case: 6,
      geoCode: [24.156826, 120.641828],
    },
    {
      id: "500607014",
      station: "500607014 - 廣三SOGO",
      manual: 5,
      auto: 6,
      classOne: 7,
      classTwo: null,
      fault: null,
      case: 2,
      geoCode: [24.154265, 120.664008],
    },
    {
      id: "500607015",
      station: "500607015 - 一中街",
      manual: 1,
      auto: 2,
      classOne: null,
      classTwo: 5,
      fault: 3,
      case: null,
      geoCode: [24.144187, 120.683083],
    },
    {
      id: "500607016",
      station: "500607016 - 老虎城",
      manual: 3,
      auto: null,
      classOne: 6,
      classTwo: 2,
      fault: 4,
      case: 6,
      geoCode: [24.168195, 120.639045],
    },
    {
      id: "500607017",
      station: "500607017 - 新時代購物中心",
      manual: null,
      auto: 7,
      classOne: 9,
      classTwo: 4,
      fault: 1,
      case: 3,
      geoCode: [24.136814, 120.684624],
    },
    {
      id: "500607018",
      station: "500607018 - 清水車站",
      manual: 6,
      auto: 5,
      classOne: 8,
      classTwo: 3,
      fault: 2,
      case: null,
      geoCode: [24.268501, 120.574821],
    },
    {
      id: "500607019",
      station: "500607019 - 大里溪口",
      manual: 4,
      auto: null,
      classOne: 7,
      classTwo: 1,
      fault: 5,
      case: 7,
      geoCode: [24.101925, 120.678645],
    },
    {
      id: "500607020",
      station: "500607020 - 東勢中學",
      manual: null,
      auto: 3,
      classOne: 11,
      classTwo: null,
      fault: 2,
      case: 4,
      geoCode: [24.252062, 120.831417],
    },
    {
      id: "500607021",
      station: "500607021 - 石岡農會",
      manual: 2,
      auto: 4,
      classOne: 5,
      classTwo: 3,
      fault: 1,
      case: 6,
      geoCode: [24.268422, 120.788186],
    },
    {
      id: "500607022",
      station: "500607022 - 台中啤酒廠",
      manual: 5,
      auto: 6,
      classOne: 7,
      classTwo: null,
      fault: null,
      case: 2,
      geoCode: [24.142962, 120.681342],
    },
    {
      id: "500607023",
      station: "500607023 - 豐原高鐵站",
      manual: 1,
      auto: 2,
      classOne: null,
      classTwo: 5,
      fault: 3,
      case: null,
      geoCode: [24.250276, 120.712032],
    },
    {
      id: "500607024",
      station: "500607024 - 國立台中科技大學",
      manual: 3,
      auto: null,
      classOne: 6,
      classTwo: 2,
      fault: 4,
      case: 6,
      geoCode: [24.146898, 120.685878],
    },
    {
      id: "500607025",
      station: "500607025 - 台中市政府",
      manual: null,
      auto: 7,
      classOne: 9,
      classTwo: 4,
      fault: 1,
      case: 3,
      geoCode: [24.160921, 120.639919],
    },
    {
      id: "500607026",
      station: "500607026 - 台中仁愛醫院",
      manual: 6,
      auto: 5,
      classOne: 8,
      classTwo: 3,
      fault: 2,
      case: null,
      geoCode: [24.137519, 120.683036],
    },
    {
      id: "500607027",
      station: "500607027 - 經國綠園道",
      manual: 4,
      auto: 3,
      classOne: 11,
      classTwo: 2,
      fault: 5,
      case: 6,
      geoCode: [24.161117, 120.653276],
    },
    {
      id: "500607028",
      station: "500607028 - 霧峰區公所",
      manual: 5,
      auto: 6,
      classOne: null,
      classTwo: 4,
      fault: 2,
      case: 7,
      geoCode: [24.059462, 120.697548],
    },
    {
      id: "500607029",
      station: "500607029 - 太平區公所",
      manual: 3,
      auto: 8,
      classOne: 7,
      classTwo: 3,
      fault: 1,
      case: 4,
      geoCode: [24.119577, 120.716914],
    },
    {
      id: "500607030",
      station: "500607030 - 龍井交流道",
      manual: 6,
      auto: 5,
      classOne: 12,
      classTwo: 6,
      fault: 4,
      case: 9,
      geoCode: [24.178477, 120.542728],
    },
    {
      id: "500607031",
      station: "500607031 - 大甲鎮瀾宮",
      manual: 2,
      auto: 4,
      classOne: 8,
      classTwo: 1,
      fault: 3,
      case: 5,
      geoCode: [24.350887, 120.625749],
    },
    {
      id: "500607032",
      station: "500607032 - 台中花博",
      manual: 7,
      auto: 6,
      classOne: 9,
      classTwo: 3,
      fault: 2,
      case: 6,
      geoCode: [24.305006, 120.691992],
    },
    {
      id: "500607033",
      station: "500607033 - 梧棲區公所",
      manual: 5,
      auto: 3,
      classOne: 11,
      classTwo: 2,
      fault: 4,
      case: 8,
      geoCode: [24.245992, 120.530595],
    },
    {
      id: "500607034",
      station: "500607034 - 后里區公所",
      manual: 4,
      auto: 7,
      classOne: null,
      classTwo: 5,
      fault: 3,
      case: 7,
      geoCode: [24.309894, 120.725186],
    },
    {
      id: "500607035",
      station: "500607035 - 沙鹿交流道",
      manual: 6,
      auto: 5,
      classOne: 9,
      classTwo: 4,
      fault: 2,
      case: 3,
      geoCode: [24.235416, 120.566183],
    },
    {
      id: "500607036",
      station: "500607036 - 西屯區公所",
      manual: 3,
      auto: 6,
      classOne: 8,
      classTwo: 2,
      fault: 1,
      case: 4,
      geoCode: [24.179051, 120.649162],
    },
    {
      id: "500607037",
      station: "500607037 - 南屯區公所",
      manual: 7,
      auto: 5,
      classOne: 11,
      classTwo: 3,
      fault: 4,
      case: 6,
      geoCode: [24.143299, 120.637432],
    },
    {
      id: "500607038",
      station: "500607038 - 北屯區公所",
      manual: 2,
      auto: 4,
      classOne: 6,
      classTwo: 1,
      fault: 3,
      case: 5,
      geoCode: [24.174843, 120.684614],
    },
    {
      id: "500607039",
      station: "500607039 - 豐樂公園",
      manual: 5,
      auto: 6,
      classOne: null,
      classTwo: 4,
      fault: 2,
      case: 7,
      geoCode: [24.137456, 120.661862],
    },
    {
      id: "500607040",
      station: "500607040 - 大安溪口",
      manual: 3,
      auto: 8,
      classOne: 7,
      classTwo: 3,
      fault: 1,
      case: 4,
      geoCode: [24.353511, 120.599542],
    },
    {
      id: "500607041",
      station: "500607041 - 中山醫學大學",
      manual: 6,
      auto: 5,
      classOne: 12,
      classTwo: 6,
      fault: 4,
      case: 9,
      geoCode: [24.140497, 120.662652],
    },
    {
      id: "500607042",
      station: "500607042 - 惠來捷運站",
      manual: 2,
      auto: 4,
      classOne: 8,
      classTwo: 1,
      fault: 3,
      case: 5,
      geoCode: [24.156944, 120.642632],
    },
    {
      id: "500607043",
      station: "500607043 - 台中高工",
      manual: 7,
      auto: 6,
      classOne: 9,
      classTwo: 3,
      fault: 2,
      case: 6,
      geoCode: [24.146483, 120.670309],
    },
    {
      id: "500607044",
      station: "500607044 - 西湖渡假村",
      manual: 5,
      auto: 3,
      classOne: 11,
      classTwo: 2,
      fault: 4,
      case: 8,
      geoCode: [24.213748, 120.557391],
    },
    {
      id: "500607045",
      station: "500607045 - 台中太陽堂",
      manual: 4,
      auto: 7,
      classOne: null,
      classTwo: 5,
      fault: 3,
      case: 7,
      geoCode: [24.138159, 120.683143],
    },
    {
      id: "500607046",
      station: "500607046 - 國立自然科學博物館",
      manual: 6,
      auto: 5,
      classOne: 9,
      classTwo: 4,
      fault: 2,
      case: 3,
      geoCode: [24.158453, 120.663835],
    },
    {
      id: "500607047",
      station: "500607047 - 文心森林公園",
      manual: 3,
      auto: 6,
      classOne: 8,
      classTwo: 2,
      fault: 1,
      case: 4,
      geoCode: [24.144219, 120.656431],
    },
    {
      id: "500607048",
      station: "500607048 - 台中教育大學",
      manual: 7,
      auto: 5,
      classOne: 11,
      classTwo: 3,
      fault: 4,
      case: 6,
      geoCode: [24.143918, 120.680036],
    },
    {
      id: "500607049",
      station: "500607049 - 東南高中",
      manual: 2,
      auto: 4,
      classOne: 6,
      classTwo: 1,
      fault: 3,
      case: 5,
      geoCode: [24.108892, 120.696831],
    },
    {
      id: "500607050",
      station: "500607050 - 大肚溪橋",
      manual: 5,
      auto: 6,
      classOne: null,
      classTwo: 4,
      fault: 2,
      case: 7,
      geoCode: [24.211611, 120.616278],
    },
    {
      id: "500607051",
      station: "500607051 - 頭汴坑",
      manual: 4,
      auto: 3,
      classOne: 11,
      classTwo: 2,
      fault: 5,
      case: 6,
      geoCode: [24.057941, 120.767032],
    },
    {
      id: "500607052",
      station: "500607052 - 國立台中圖書館",
      manual: 6,
      auto: 5,
      classOne: 12,
      classTwo: 6,
      fault: 4,
      case: 9,
      geoCode: [24.145115, 120.683095],
    },
    {
      id: "500607053",
      station: "500607053 - 中港路交流道",
      manual: 2,
      auto: 4,
      classOne: 8,
      classTwo: 1,
      fault: 3,
      case: 5,
      geoCode: [24.185731, 120.626818],
    },
    {
      id: "500607054",
      station: "500607054 - 北斗溪",
      manual: 5,
      auto: 3,
      classOne: 11,
      classTwo: 2,
      fault: 4,
      case: 8,
      geoCode: [24.132283, 120.715469],
    },
    {
      id: "500607055",
      station: "500607055 - 惠來福德宮",
      manual: 4,
      auto: 7,
      classOne: null,
      classTwo: 5,
      fault: 3,
      case: 7,
      geoCode: [24.161335, 120.643923],
    },
    {
      id: "500607056",
      station: "500607056 - 台中市立圖書館",
      manual: 3,
      auto: 6,
      classOne: 8,
      classTwo: 2,
      fault: 1,
      case: 4,
      geoCode: [24.144151, 120.676183],
    },
    {
      id: "500607057",
      station: "500607057 - 清水高工",
      manual: 7,
      auto: 5,
      classOne: 11,
      classTwo: 3,
      fault: 4,
      case: 6,
      geoCode: [24.264711, 120.570888],
    },
    {
      id: "500607058",
      station: "500607058 - 潭子交流道",
      manual: 2,
      auto: 4,
      classOne: 6,
      classTwo: 1,
      fault: 3,
      case: 5,
      geoCode: [24.220154, 120.704471],
    },
    {
      id: "500607059",
      station: "500607059 - 台中教育大學附小",
      manual: 5,
      auto: 3,
      classOne: null,
      classTwo: 2,
      fault: 4,
      case: 8,
      geoCode: [24.142006, 120.682839],
    },
    {
      id: "500607060",
      station: "500607060 - 東大門夜市",
      manual: 4,
      auto: 7,
      classOne: null,
      classTwo: 5,
      fault: 3,
      case: 7,
      geoCode: [24.144792, 120.661172],
    },
    {
      id: "500607061",
      station: "500607061 - 市政府捷運站",
      manual: 3,
      auto: 6,
      classOne: null,
      classTwo: 2,
      fault: 1,
      case: 4,
      geoCode: [24.161508, 120.638896],
    },
  ];
};

export const StationsProvider: React.FC<{ children: React.ReactNode }> = ({
  children,
}) => {
  const [stations, setStations] = useState<Situation[]>([]);

  const fetchStations = async () => {
    const result = await getStations();
    setStations(result);
  };

  useEffect(() => {
    fetchStations();
  }, []);

  return (
    <StationsContext.Provider value={{ stations, fetchStations }}>
      {children}
    </StationsContext.Provider>
  );
};

export const useStations = (): StationsContextType => {
  const context = useContext(StationsContext);
  if (!context) {
    throw new Error("useStations must be used within a StationsProvider");
  }
  return context;
};
